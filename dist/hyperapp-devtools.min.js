!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.devtools={})}(this,function(e){"use strict";var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=function(){return n[Math.floor(Math.random()*n.length)]},u=function(){return Array.apply(null,Array(16)).map(t).join("")};function f(e,n){for(var t=[],r=[],a=arguments.length;2<a--;)t.push(arguments[a]);for(;t.length;){var o=t.pop();if(o&&o.pop)for(a=o.length;a--;)t.push(o[a]);else null!=o&&!0!==o&&!1!==o&&r.push(o)}return"function"==typeof e?e(n||{},r):{nodeName:e,attributes:n||{},children:r,key:n&&n.key}}function r(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}r(".hyperapp-devtools {\n  font-size: 1rem;\n  line-height: 1.25rem; }\n  .hyperapp-devtools button {\n    border: 1px solid #697080;\n    color: #dbdbdb;\n    background-color: #2b303b;\n    border-radius: 0.2rem;\n    margin: 0 0.1rem;\n    padding: 2px 7px;\n    font-size: 0.8rem; }\n    .hyperapp-devtools button.selected {\n      background: #4c5875; }\n      .hyperapp-devtools button.selected:hover {\n        background: #4c5875; }\n      .hyperapp-devtools button.selected:active {\n        background: #3e485e; }\n      .hyperapp-devtools button.selected:focus {\n        outline: 0; }\n    .hyperapp-devtools button:hover {\n      cursor: pointer;\n      background: #394252; }\n    .hyperapp-devtools button:active {\n      background: #3e485e; }\n    .hyperapp-devtools button:focus {\n      outline: 0; }\n    .hyperapp-devtools button[disabled] {\n      border-color: #a0a0a0;\n      color: #a0a0a0;\n      background-color: #4d5158; }\n      .hyperapp-devtools button[disabled]:hover {\n        cursor: not-allowed; }\n  .hyperapp-devtools .scrollable {\n    display: flex;\n    overflow: auto; }\n    .hyperapp-devtools .scrollable .scrollable-content {\n      display: flex;\n      min-height: 0px;\n      min-width: 0px;\n      flex-grow: 1; }\n\n.devtools-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 10; }\n  .devtools-overlay.align-right {\n    width: 50vw;\n    left: 50vw; }\n  .devtools-overlay.align-bottom {\n    height: 50vh;\n    top: 50vh; }\n");function g(e,n){var t=e.detailsPaneExpandedPaths[n];return"boolean"==typeof t?t:n.split(".").length<4}function b(e){var n=e.runs;if(0<n.length)return n[n.length-1];throw new Error("No run found.")}function s(e,n){var t=e.runsById[n];if(!t)throw new Error("No run with id ="+n);return t}function i(e,n){return void 0===n&&(n=e.selectedEvent),n?e.runsById[n.runId].eventsById[n.eventId]:null}function d(e){var n,t=(n=e).runsById[b(n)],r=i(e);return!(!t||!r)&&("action"===r.type?r.stateAfter&&r.stateAfter!==t.currentState:"init"===r.type&&r.state!==t.currentState)}function o(e){return("action"===e.type?"actions.":"")+e.name}function y(e){return o(e)+"("+function(e){if("action"===e.type)return void 0===e.data?"":JSON.stringify(e.data);if(0===e.args.length)return"";var n=JSON.stringify(e.args);return n.substring(1,n.length-1)}(e)+")"}r(".debugger-options {\n  display: flex;\n  flex-shrink: 0; }\n  .debugger-options .option {\n    flex-grow: 1;\n    padding-left: 0.5rem;\n    padding-right: 0.5rem; }\n    .debugger-options .option select {\n      width: 100%; }\n");var a={action:{state:!0,result:!0,data:!0,"call-overview":!0,"debugger-state":!0},function:{args:!0,result:!0,"call-overview":!0,"debugger-state":!0},init:{state:!0,"debugger-state":!0},message:{message:!0,"debugger-state":!0}},l={action:["state","call-overview","result","data","debugger-state"],function:["call-overview","args","result","debugger-state"],init:["state","debugger-state"],message:["message","debugger-state"]},c={action:"state",function:"call-overview",init:"state",message:"message"};function h(e,n){return a[n.type][e]?"state"===e&&n.error?"result":e:c[n.type]}var v={state:"Show full state",result:"Show action or function result",args:"Show function arguments",message:"Show message",data:"Show action data","call-overview":"Overview of the call","debugger-state":"Show debugger full state (for debug only)"};function p(e){var n,t,r,a,o=e.state,s=e.actions;return f("div",{class:"debugger-options"},f("div",{class:"option"},f("input",{id:"debugger-group-actions-cb",type:"checkbox",checked:o.collapseRepeatingEvents,onchange:s.toggleCollapseRepeatingEvents}),f("label",{for:"debugger-group-actions-cb"},"Group repeating actions")),f("div",{class:"option"},(t=(n=e).state,r=n.actions,a=i(t),f("select",{onchange:function(e){return r.setValueDisplay(e.target.value)},value:t.valueDisplay},l[a.type].map(function(e){return f("option",{value:e},v[e])})))))}r(".debug-pane-toolbar {\n  display: flex;\n  justify-content: space-between;\n  flex-shrink: 0;\n  width: 100%;\n  border-bottom: 1px solid #697080; }\n  .debug-pane-toolbar .toolbar-section {\n    align-items: center;\n    display: flex;\n    flex: 1 0 0; }\n    .debug-pane-toolbar .toolbar-section:not(:first-child):last-child {\n      justify-content: flex-end; }\n  .debug-pane-toolbar .view-buttons {\n    margin: 0.1rem; }\n  .debug-pane-toolbar .travel-button {\n    margin: 0.1rem;\n    align-items: center;\n    display: flex;\n    flex: 0 0 auto; }\n  .debug-pane-toolbar .close-button {\n    margin: 0.1rem 0.3rem; }\n");r("svg {\n  margin: 0rem 0.2rem; }\n  svg path {\n    fill: #dbdbdb; }\n");var m=function(n,t){return function(e){return f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",class:e.class||"",onclick:e.onclick},f("path",{d:n,transform:t}))}},w=m("M0 0v8l4-4-4-4z","translate(2)"),x=m("M0 0l4 4 4-4h-8z","translate(0 2)"),I=m("M1.41 0l-1.41 1.41.72.72 1.78 1.81-1.78 1.78-.72.69 1.41 1.44.72-.72 1.81-1.81 1.78 1.81.69.72 1.44-1.44-.72-.69-1.81-1.78 1.81-1.81.72-.72-1.44-1.41-.69.72-1.78 1.78-1.81-1.78-.72-.72z",""),E=m("","");function k(e){switch(e.name){case"caret-bottom":return x(e);case"caret-right":return w(e);case"cross":return I(e);case"empty":return E(e);default:throw new Error("Invalid icon "+e.name)}}r(".debug-pane-content {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  min-width: 0;\n  min-height: 0; }\n");function j(e,n,t){return{nodeName:e,attributes:n,children:Array.isArray(t)?t:[t]}}function B(e,n){var t=e.key;return j("div",{class:"-row"},[t&&j("span",{class:"-key"},t),n])}function S(e,n){return B(e,j("span",{class:n},e.value+""))}function D(e,n,t){var r=e.value;switch(typeof r){case"boolean":return S(e,"-boolean");case"function":return B(e,j("span",{class:"-function"}));case"number":return S(e,"-number");case"object":return B(e,r?Array.isArray(r)?function(e,n,t){if(t&&!t(n))return j("span",{class:"-array"},_(n,t));for(var r=[O(n,t)],a=0;a<e.length;a++)r.push(D({value:e[a]},n+"."+a,t));return j("span",{class:"-array"},r)}(r,n,t):function(e,n,t){if(t&&!t(n))return j("span",{class:"-object"},_(n,t));for(var r=Object.keys(e),a=[O(n,t)],o=0;o<r.length;o++){var s=r[o];a.push(D({key:s,value:e[s]},n+"."+s,t))}return j("span",{class:"-object"},a)}(r,n,t):j("span",{class:"-null"}));case"string":return S(e,"-string");case"undefined":return B(e,j("span",{class:"-undefined"}))}return S(e)}function _(e,n){return n&&j("span",{class:"-expand",onclick:function(){n(e,!0)}})}function O(e,n){return n&&j("span",{class:"-collapse",onclick:function(){n(e,!1)}})}function P(e){return e.path=e.path||"root",j("div",{class:"_object-view"},D(e,e.path,e.expanded))}r('@charset "UTF-8";\n._object-view {\n  display: flex;\n  flex-grow: 1;\n  overflow: auto;\n  color: #c0c5ce;\n  white-space: nowrap;\n  background: #2b303b;\n  font-family: "Roboto Mono", monospace;\n  font-size: 0.8rem;\n  line-height: 1rem; }\n  ._object-view .-row {\n    padding: 0 0 0 2ch; }\n    ._object-view .-row:not(:last-of-type)::after {\n      content: ","; }\n  ._object-view .-key {\n    color: #bf616a; }\n    ._object-view .-key::after {\n      color: #c0c5ce;\n      content: ": "; }\n  ._object-view .-null::before {\n    color: #d08770;\n    content: "null"; }\n  ._object-view .-array::after {\n    content: "]"; }\n  ._object-view .-array::before {\n    content: "["; }\n  ._object-view .-boolean {\n    color: #96b5b4; }\n  ._object-view .-function::before {\n    content: "Æ’"; }\n  ._object-view .-number {\n    color: #ebcb8b; }\n  ._object-view .-object::after {\n    content: "}"; }\n  ._object-view .-object::before {\n    content: "{"; }\n  ._object-view .-string {\n    color: #a3be8c; }\n    ._object-view .-string::after {\n      content: "\'"; }\n    ._object-view .-string::before {\n      content: "\'"; }\n  ._object-view .-undefined::before {\n    color: #d08770;\n    content: "undefined"; }\n  ._object-view .-expand::before {\n    content: "+"; }\n  ._object-view .-collapse::before {\n    content: "-"; }\n');function T(e){var n,t=e.state,r=e.actions,a=e.event;try{return{state:t,actions:r,event:a,args:function(e,n){var t=o(e)+"(";if(!n.startsWith(t)||!n.endsWith(")"))throw new Error('Call must be of the form: "'+t+'(arg1, arg2, ...)"');return JSON.parse("["+n.substring(t.length,n.length-1)+"]")}(a,t.callOverviewText)}}catch(e){return{state:t,actions:r,event:a,error:"string"==typeof(n=e)?n:n instanceof Error?n.message:JSON.stringify(n)}}}function C(e){var n,r,a,t,o,s,i,l,c,u,d,v,p=T(e);return f("div",{class:"object-details-pane scrollable"},f("div",{class:"scrollable-content call-overview-details-pane"},f("section",{class:"call-section"},f("h3",null,"Call"),(d=(u=p).state,v=u.actions,f("textarea",{class:"call-text-area",value:d.callOverviewText,oninput:function(e){v.setCallOverviewText(e.target.value)}})),(o=(t=p).state,s=t.actions,i=t.event,l=t.args,f("div",{class:"call-text-action"},(c=t.error)?f("div",{class:"call-text-error"},c):f("div",null),f("button",{onclick:function(){s.execute({type:i.type,name:i.name,runId:o.selectedEvent.runId,args:l})},disabled:!!c},"Execute")))),f("section",{class:"response-section"},f("h3",null,"Response"),(r=(n=p).state,a=n.actions,f("div",{class:"result-pane scrollable"},P({value:n.event.result,expanded:function(e,n){var t=g(r,e);return"boolean"==typeof n&&a.setDetailsPaneExpanded({expanded:!t,path:e}),t}}))))))}r(".call-overview-details-pane {\n  display: flex;\n  flex-direction: column;\n  padding: 0.3rem;\n  min-height: 0; }\n  .call-overview-details-pane h3 {\n    margin: 0.3rem 0rem; }\n  .call-overview-details-pane .call-section {\n    display: flex;\n    flex-direction: column;\n    flex: 0 0 11rem;\n    padding: 0.3rem; }\n    .call-overview-details-pane .call-section .call-text-area {\n      flex: 0 0 7rem; }\n    .call-overview-details-pane .call-section .call-text-action {\n      display: flex;\n      justify-content: space-between; }\n      .call-overview-details-pane .call-section .call-text-action .call-text-error {\n        font-size: 0.8rem;\n        color: #ff0000; }\n  .call-overview-details-pane .response-section {\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 100%;\n    min-height: 0; }\n    .call-overview-details-pane .response-section .result-pane {\n      display: flex;\n      flex-direction: column;\n      border: 1px solid #697080;\n      flex: 1 1 100%;\n      min-height: 0; }\n");function A(e,n){var r=e.state,a=e.actions;return f("div",{class:"object-details-pane scrollable"},P({value:n,expanded:function(e,n){var t=g(r,e);return"boolean"==typeof n&&a.setDetailsPaneExpanded({expanded:!t,path:e}),t}}))}function R(e,n){return n instanceof Error?f("div",{class:"object-details-pane scrollable"},f("pre",null,n.stack)):"string"==typeof n?f("div",{class:"object-details-pane scrollable"},f("pre",null,n)):A(e,n)}function N(e){var n,t=e.state,r=e.actions,a=i(e.state);switch(e.state.valueDisplay){case"args":return function(e){var n=e.event;if("function"===n.type)return A(e,n.args);throw new Error("Expected function event but got: "+n.type)}({state:t,actions:r,event:a});case"data":return function(e){var n=e.event;if("action"===n.type)return A(e,n.data);throw new Error("Expected action event but got: "+n.type)}({state:t,actions:r,event:a});case"result":return function(e){var n=e.event;if("action"===n.type)return n.error?R(e,n.error):A(e,n.result);if("function"===n.type)return n.error?R(e,n.error):A(e,n.result);throw new Error("Expected action or function event but got: "+n.type)}({state:t,actions:r,event:a});case"message":return function(e){var n=e.event;if("message"===n.type)return A(e,n.message);throw new Error("Expected message event but got: "+n.type)}({state:t,actions:r,event:a});case"state":return function(e){var n=e.event;if("action"===n.type)return A(e,n.stateAfter);if("init"===n.type)return A(e,n.state);throw new Error("Expected action or init event but got: "+n.type)}({state:t,actions:r,event:a});case"call-overview":return C({state:t,actions:r,event:a});case"debugger-state":return A(n={state:t,actions:r,event:a},n.state)}}r('.object-details-pane {\n  flex: 0 0 60%;\n  border: 1px solid #697080;\n  margin: 0.1rem; }\n  .object-details-pane pre {\n    margin: 0rem 0.2rem;\n    font-family: "Roboto Mono", monospace;\n    font-size: 0.7rem;\n    line-height: 1rem; }\n');r(".runs-pane {\n  flex: 0 0 40%;\n  border: 1px solid #697080;\n  margin: 0.1rem;\n  align-items: stretch; }\n  .runs-pane .runs-pane-runs {\n    margin: 0.2rem 0rem 0.4rem 0.2rem;\n    padding: 0; }\n");r(".run-pane-item {\n  list-style-type: none;\n  width: 100%; }\n  .run-pane-item h2 {\n    font-size: 1.2rem;\n    margin: 0.2rem 0 0.2rem 0; }\n");r(".run-event-count {\n  color: #ff6600; }\n\n.run-event {\n  margin: 0rem;\n  width: 100%; }\n  .run-event .item-link {\n    display: block;\n    color: #dbdbdb; }\n    .run-event .item-link .error {\n      color: #ff0000; }\n    .run-event .item-link .warn {\n      color: #ff6600; }\n    .run-event .item-link:hover {\n      background-color: #394252;\n      text-decoration: none;\n      color: #dbdbdb; }\n    .run-event .item-link:focus {\n      text-decoration: none; }\n    .run-event .item-link.selected {\n      background-color: #4c5875;\n      font-weight: bold;\n      color: #dbdbdb; }\n  .run-event .icon:hover {\n    color: #9f9eff; }\n");var z=20;function M(e){for(var n,t="",r=0;r<e.length;r++){var a=e[r];t+=((n=a)&&"object"==typeof n&&n.constructor&&"Object"!==n.constructor.name?n.constructor.name:JSON.stringify(n))+(r<e.length-1?", ":"");if(t.length===z)return t;if(t.length>z)return t.substring(0,z-3)+"..."}return t}function J(e){var n=e.state,t=e.actions,r=e.run,a=e.events,o=e.indexInList,s=e.event;return f("a",{href:"",class:"item-link"+(function(e,n){var t=e.selectedEvent;if(!t||!n)return!1;var r=e.runsById[t.runId];return r&&r.eventsById[t.eventId]===n}(n,s)?" selected":""),onclick:function(e){e.preventDefault(),t.select({runId:r.id,eventId:s.id})}},function(e){var n=e.actions,t=e.run,r=e.event;if(!r.children||0===r.children.length)return f(k,{name:"empty"});var a=function(e){e.stopPropagation(),e.preventDefault(),n.toggleEvent({runId:t.id,eventId:r.id})};return r.collapsed?f(k,{name:"caret-right",onclick:a}):f(k,{name:"caret-bottom",onclick:a})}(e),f("span",{class:function(e){switch(e.type){case"init":return"";case"action":case"function":return e.error?"error":"";case"message":return e.level}}(s)},function(e){switch(e.type){case"init":return"Initial State";case"action":return e.name+"("+M(void 0===e.data?[]:[e.data])+")";case"function":return"f "+e.name+"("+M(e.args)+")";case"message":return"["+e.level+"] "+(n=e.message,void 0===t&&(t=30),n.length<=t?n:n.substr(0,t-2)+"...")}var n,t}(s)),n.collapseRepeatingEvents&&f("span",{class:"run-event-count"},function(e,n,t){for(var r=e.eventsById[n[t]],a=1,o=t-1;0<=o;){var s=e.eventsById[n[o]];if(s.name!==r.name||s.type!==r.type)return 1===a?"":" (x"+a+")";a++,o--}return 1===a?"":" (x"+a+")"}(r,a,o)))}function L(e){var u=e.state,d=e.actions,v=e.run,n=e.events;return 0===n.length?null:f("ul",{class:"run-event-list"},n.map(function(e,n){return t={state:u,actions:d,events:v.events,event:v.eventsById[e],indexInList:n,run:v},r=t.state,a=t.actions,o=t.run,s=t.events,i=t.indexInList,l=t.event,(c=o.eventsById[s[i+1]])&&c.name===l.name&&c.type===l.type&&r.collapseRepeatingEvents?null:f("li",{class:"run-event",key:i},J(t),l.children&&!l.collapsed&&L({state:r,actions:a,run:o,events:l.children}));var t,r,a,o,s,i,l,c}).reverse())}function F(e){var l=e.state,c=e.actions,n=e.runs,u=[],d=n.length-1;return n.forEach(function(e,n){var t,r,a,o,s,i;u.unshift((r=(t={state:l,actions:c,run:e,current:n===d}).state,a=t.actions,o=t.run,s=new Date(o.timestamp).toLocaleTimeString(),i=o.collapsed,f("li",{class:"run-pane-item",key:o.timestamp},f("h2",null,"Run - ",s),!i&&L({run:o,state:r,actions:a,events:o.events}))))}),f("div",{class:"runs-pane scrollable"},f("ul",{class:"runs-pane-runs scrollable-content"},u))}r(".run-event-list {\n  list-style-type: none;\n  margin: 0 0 0 0.6rem;\n  padding: 0; }\n");function V(e){var n,t,r,a,o,s,i,l=e.state,c=e.actions;return f("div",{class:"hyperapp-devtools debug-pane"},(s=(o={state:l,actions:c}).state,i=o.actions,f("div",{class:"debug-pane-toolbar"},f("span",{class:"toolbar-section view-buttons"},f("button",{class:"fullscreen"===s.paneDisplay?"selected":"",onclick:function(){return i.setPaneDisplay("fullscreen")}},"Full Screen"),f("button",{class:"right"===s.paneDisplay?"selected":"",onclick:function(){return i.setPaneDisplay("right")}},"Right"),f("button",{class:"bottom"===s.paneDisplay?"selected":"",onclick:function(){return i.setPaneDisplay("bottom")}},"Bottom")),f("span",{class:"toolbar-section travel-button"},f("button",{onclick:function(){return i.timeTravel(s.selectedEvent)},disabled:!d(s)},"Travel to Action")),f("span",{class:"toolbar-section close-button"},f(k,{name:"cross",onclick:function(){return i.showPane(!1)}})))),p({state:l,actions:c}),(t=(n={state:l,actions:c}).state,r=n.actions,0===(a=t.runs.map(function(e){return t.runsById[e]})).length?f("div",{class:"debug-pane-content"},f("p",null,"No debug information found, please debug this project.")):f("div",{class:"debug-pane-content"},F({state:t,actions:r,runs:a}),N({state:t,actions:r}))))}r(".debug-pane {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background: #2b303b;\n  border: 1px solid #697080;\n  color: #dbdbdb; }\n  .debug-pane a {\n    text-decoration: none; }\n");function W(e){var n=e.state,t=e.actions;return f("div",{class:"hyperapp-devtools toggle-pane-button"},f("button",{onclick:function(){return t.showPane(!n.paneShown)}},"Devtools"))}function q(e,n){return e.paneShown?f("div",{class:function(e){switch(e){case"fullscreen":return"devtools-overlay";case"right":return"devtools-overlay align-right";case"bottom":return"devtools-overlay align-bottom"}}(e.paneDisplay)},V({state:e,actions:n}),W({state:e,actions:n})):W({state:e,actions:n})}r(".toggle-pane-button {\n  position: fixed;\n  right: 2%;\n  bottom: 2%; }\n");var G={runs:[],runsById:{},paneDisplay:"right",valueDisplay:"state",paneShown:!1,selectedEvent:null,collapseRepeatingEvents:!0,detailsPaneExpandedPaths:{}},U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e};function H(e,n){for(var t=e,r=0;r<n.length;r++)t=t?t[n[r]]:t;return t}function K(e,n,t){return 0===n.length?t:Q(Array.isArray(e)?[]:{},e,((r={})[n[0]]=1<n.length?K(e[n[0]]||{},n.slice(1),t):t,r));var r}function Q(e,n,t){for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}var X={};function Y(e,n){var t=e.name,r=e.args;(function(e){var n=X[e];if(!n)throw new Error("No function registered with name "+e+".");return n})(t).apply(void 0,r)}var Z,$="$__SET_STATE",ee=Object.freeze({deleteRun:function(t){return function(e){var n=U({},e.runsById);return delete n[t],{runs:e.runs.filter(function(e){return e!==t}),runsById:n}}},execute:function(n){return function(e){"action"===n.type?function(e,n){var t=e.runId,r=e.name,a=e.args,o=H(s(n,t).interop,r.split("."));if(!o)throw new Error('No action found with name "'+r+'".');o(a[0])}(n,e):Y(n)}},logCallEnd:function(g){return function(e){var n=g.runId,t=void 0===n?b(e):n,r=g.eventId,a=g.result,o=g.error,s=U({},e.runsById),i=U({},s[t]);(s[t]=i).eventsById=U({},i.eventsById);var l=U({},i.eventsById[r]);i.eventsById[r]=l;var c,u,d,v=e.valueDisplay;if("action"===l.type||"function"===l.type){if(a&&(l.result=a,"action"===l.type&&!a.then)){var p=l.name.split(".");p.pop();var f=(c=l.stateBefore,u=p,d=l.result,K(c,u,Q(Array.isArray(d)?[]:{},H(c,u),d)));l.stateAfter=f,i.currentState=f}o&&(l.error=o)}return i.currentEvent=r===i.currentEvent?l.parent:i.currentEvent,{runsById:s,selectedEvent:{runId:i.id,eventId:r},valueDisplay:v=h(v,l),callOverviewText:y(l)}}},logCallStart:function(p){return function(e){var n,t,r,a,o,s=p.runId,i=void 0===s?b(e):s,l=p.eventId,c=U({},e.runsById),u=U({},c[i]);(c[i]=u).eventsById[l]=(n=u,r=(t=p).args,a=t.eventId,o=t.name,t.runId,"action"===t.type?{type:"action",id:a,name:o,data:r&&0<r.length?r[0]:void 0,parent:n.currentEvent,children:[],collapsed:!1,stateBefore:n.currentState}:{type:"function",id:a,name:o,args:r,children:[],collapsed:!1,parent:n.currentEvent});var d=u.currentEvent;if(d){var v=U({},u.eventsById[d]);(u.eventsById[d]=v).children=v.children.concat(l)}else u.events=u.events.concat(l);return u.currentEvent=l,{runsById:c}}},logInit:function(l){return function(e){var n,t=l.runId,r=l.interop,a=l.timestamp,o=e.runs.concat(t),s=U({},e.runsById),i={id:t,type:"init",name:"Initial State",state:l.state};return s[t]={id:t,events:[t],eventsById:(n={},n[t]=i,n),currentState:l.state,timestamp:a,interop:r,collapsed:!1},{runs:o,runsById:s,selectedEvent:{runId:t,eventId:t}}}},logMessage:function(l){return function(e){var n,t=l.runId,r=l.eventId,a=l.level,o=l.message,s=U({},e.runsById),i=U({},s[t]);return(s[t]=i).events=i.events.concat(r),i.eventsById=U({},i.eventsById,((n={})[r]={type:"message",level:a,message:o,name:a,id:r,parent:i.currentEvent},n)),{runsById:s,selectedEvent:{runId:t,eventId:r}}}},select:function(a){return function(e){var n,t,r=i(e,a);return{selectedEvent:a,valueDisplay:h(e.valueDisplay,r),callOverviewText:(n=e,t=r,"action"===t.type||"function"===t.type?y(t):n.callOverviewText)}}},setCallOverviewText:function(n){return function(e){return{callOverviewText:n}}},setDetailsPaneExpanded:function(a){return function(e){var n,t=a.path,r=a.expanded;return{detailsPaneExpandedPaths:U({},e.detailsPaneExpandedPaths,(n={},n[t]=r,n))}}},setPaneDisplay:function(n){return function(e){return{paneDisplay:n}}},setValueDisplay:function(n){return function(e){return{valueDisplay:n}}},showPane:function(n){return function(e){return{paneShown:n}}},timeTravel:function(r){return function(e){var n=s(e,r.runId);if(n){var t=i(e,r);if(t){if("action"===t.type&&t.stateAfter)return void n.interop[$](t.stateAfter);"init"===t.type&&n.interop[$](t.state)}}}},toggleCollapseRepeatingEvents:function(){return function(e){return{collapseRepeatingEvents:!e.collapseRepeatingEvents}}},toggleEvent:function(a){return function(e){var n=a.runId,t=a.eventId,r=H(e.runsById,[n,"eventsById",t,"collapsed"]);return{runsById:K(e.runsById,[n,"eventsById",t,"collapsed"],!r)}}},toggleRun:function(t){return function(e){var n=U({},e.runsById);return n[t]=U({},n[t],{collapsed:!n[t].collapsed}),{runsById:n}}}});function ne(o,s){return void 0===s&&(s="(anonymous function)"),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Z,r=u();t&&t.logCallStart({type:"function",eventId:r,name:s,args:e});try{var a=o.apply(void 0,e);return t&&t.logCallEnd({eventId:r,result:a}),"function"==typeof a?ne(a):a}catch(e){throw t&&t.logCallEnd({eventId:r,error:e}),e}}}e.devtools=function(s){var e=document.createElement("div");return document.body.appendChild(e),Z=s(G,ee,q,e),function(e,n,t,r){var a=u();n[$]=function(e){return e},n=function t(i,l,r,e){var a={},c=e?e+".":"";return Object.keys(r||{}).forEach(function(e){var o=r[e];if(o){var n=o.name||e,s=c+n;a[e]="function"==typeof o?function(a){return function(e,n){var t=u();i.logCallStart({type:"action",name:s,args:[a],eventId:t,runId:l});try{var r=o(a);return r="function"==typeof r?r(e,n):r,i.logCallEnd({runId:l,eventId:t,result:r}),r}catch(e){throw i.logCallEnd({runId:l,eventId:t,error:e}),e}}}:t(i,l,o,s)}else a[e]=null}),a}(Z,a,n);var o=s(e,n,t,r);return Z.logInit({runId:a,state:e,timestamp:(new Date).getTime(),interop:o}),o}},e.debug=function(e,n){var t="string"==typeof e?n:e,r="string"==typeof e?e:e.name;if(!r)throw new Error('Please provide a unique name: debug("myFn", () => { ... } or use a named function.');if("function"!=typeof t)throw new Error("Can only debug a function but got "+typeof t+".");return function(e,n){if(X[e])throw new Error('There is already a function registered with name "'+e+'".');X[e]=n}(r,t),ne(t,r)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-devtools.min.js.map
