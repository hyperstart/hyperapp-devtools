!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.devtools={})}(this,function(e){"use strict";var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=function(){return n[Math.floor(Math.random()*n.length)]},l=function(){return Array.apply(null,Array(16)).map(t).join("")};function v(e,n){for(var t=[],r=[],o=arguments.length;2<o--;)t.push(arguments[o]);for(;t.length;){var a=t.pop();if(a&&a.pop)for(o=a.length;o--;)t.push(a[o]);else null!=a&&!0!==a&&!1!==a&&r.push(a)}return"function"==typeof e?e(n||{},r):{nodeName:e,attributes:n||{},children:r,key:n&&n.key}}function r(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}r(".hyperapp-devtools {\n  font-size: 1rem;\n  line-height: 1.25rem; }\n  .hyperapp-devtools button {\n    border: 1px solid #000000;\n    color: #000000;\n    background-color: #ffffff;\n    border-radius: 0.2rem;\n    margin: 0 0.1rem;\n    padding: 2px 7px;\n    font-size: 0.8rem; }\n    .hyperapp-devtools button.selected {\n      background: #9fbbdf; }\n      .hyperapp-devtools button.selected:hover {\n        background: #9fbbdf; }\n      .hyperapp-devtools button.selected:active {\n        background: #bcd7fc; }\n      .hyperapp-devtools button.selected:focus {\n        outline: 0; }\n    .hyperapp-devtools button:hover {\n      cursor: pointer;\n      background: #d3e5fd; }\n    .hyperapp-devtools button:active {\n      background: #bcd7fc; }\n    .hyperapp-devtools button:focus {\n      outline: 0; }\n    .hyperapp-devtools button[disabled] {\n      border-color: #666666;\n      color: #666666;\n      background-color: #dddddd; }\n      .hyperapp-devtools button[disabled]:hover {\n        cursor: not-allowed; }\n  .hyperapp-devtools .scrollable {\n    display: flex;\n    overflow: auto; }\n    .hyperapp-devtools .scrollable .scrollable-content {\n      display: flex;\n      min-height: 0px;\n      min-width: 0px;\n      flex-grow: 1; }\n\n.devtools-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  z-index: 10; }\n  .devtools-overlay.align-right {\n    width: 50vw;\n    left: 50vw; }\n  .devtools-overlay.align-bottom {\n    height: 50vh;\n    top: 50vh; }\n");r(".debugger-options {\n  display: flex;\n  flex-shrink: 0; }\n  .debugger-options .option {\n    flex-grow: 1;\n    padding-left: 0.5rem;\n    padding-right: 0.5rem; }\n");function i(e,n){return void 0===n&&(n=e.selectedEvent),n?e.runsById[n.runId].eventsById[n.eventId]:null}r(".debug-pane-toolbar {\n  display: flex;\n  justify-content: space-between;\n  flex-shrink: 0;\n  width: 100%;\n  border-bottom: 1px solid #000000; }\n  .debug-pane-toolbar .toolbar-section {\n    align-items: center;\n    display: flex;\n    flex: 1 0 0; }\n    .debug-pane-toolbar .toolbar-section:not(:first-child):last-child {\n      justify-content: flex-end; }\n  .debug-pane-toolbar .view-buttons {\n    margin: 0.1rem; }\n  .debug-pane-toolbar .travel-button {\n    margin: 0.1rem;\n    align-items: center;\n    display: flex;\n    flex: 0 0 auto; }\n  .debug-pane-toolbar .close-button {\n    margin: 0.1rem 0.3rem; }\n");var o=function(n,t){return function(e){return v("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",class:e.class||"",onclick:e.onclick},v("path",{d:n,transform:t}))}},a=o("M0 0v8l4-4-4-4z","translate(2)"),s=o("M0 0l4 4 4-4h-8z","translate(0 2)"),c=o("M1.41 0l-1.41 1.41.72.72 1.78 1.81-1.78 1.78-.72.69 1.41 1.44.72-.72 1.81-1.81 1.78 1.81.69.72 1.44-1.44-.72-.69-1.81-1.78 1.81-1.81.72-.72-1.44-1.41-.69.72-1.78 1.78-1.81-1.78-.72-.72z",""),u=o("","");function d(e){switch(e.name){case"caret-bottom":return s(e);case"caret-right":return a(e);case"cross":return c(e);case"empty":return u(e);default:throw new Error("Invalid icon "+e.name)}}function p(e){var n,t,r,o,a=e.state,s=e.actions;return v("div",{class:"debug-pane-toolbar"},v("span",{class:"toolbar-section view-buttons"},v("button",{class:"fullscreen"===a.paneDisplay?"selected":"",onclick:function(){return s.setPaneDisplay("fullscreen")}},"Full Screen"),v("button",{class:"right"===a.paneDisplay?"selected":"",onclick:function(){return s.setPaneDisplay("right")}},"Right"),v("button",{class:"bottom"===a.paneDisplay?"selected":"",onclick:function(){return s.setPaneDisplay("bottom")}},"Bottom")),v("span",{class:"toolbar-section travel-button"},v("button",{onclick:function(){return s.timeTravel(a.selectedEvent)},disabled:(n=a,r=0===(t=n).runs.length?null:t.runsById[t.runs.length-1],o=i(n),!(r&&o&&"action"===o.type&&o.stateAfter&&o.stateAfter!==r.currentState))},"Travel to Action")),v("span",{class:"toolbar-section close-button"},v(d,{name:"cross",onclick:function(){return s.showPane(!1)}})))}r(".debug-pane-content {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  min-width: 0;\n  min-height: 0; }\n");r(".object-details-pane {\n  flex: 0 0 60%;\n  border: 1px solid #000000;\n  margin: 0.1rem; }\n  .object-details-pane pre {\n    margin: 0rem; }\n");function f(e,n,t){return{nodeName:e,attributes:n,children:Array.isArray(t)?t:[t]}}function g(e,n){var t=e.key;return f("div",{class:"-row"},[t&&f("span",{class:"-key"},t),n])}function b(e,n){return g(e,f("span",{class:n},e.value+""))}function y(e,n,t){var r=e.value;switch(typeof r){case"boolean":return b(e,"-boolean");case"function":return g(e,f("span",{class:"-function"}));case"number":return b(e,"-number");case"object":return g(e,r?Array.isArray(r)?function(e,n,t){if(t&&!t(n))return f("span",{class:"-array"},h(n,t));for(var r=[m(n,t)],o=0;o<e.length;o++)r.push(y({value:e[o]},n+"."+o,t));return f("span",{class:"-array"},r)}(r,n,t):function(e,n,t){if(t&&!t(n))return f("span",{class:"-object"},h(n,t));for(var r=Object.keys(e),o=[m(n,t)],a=0;a<r.length;a++){var s=r[a];o.push(y({key:s,value:e[s]},n+"."+s,t))}return f("span",{class:"-object"},o)}(r,n,t):f("span",{class:"-null"}));case"string":return b(e,"-string");case"undefined":return g(e,f("span",{class:"-undefined"}))}return b(e)}function h(e,n){return n&&f("span",{class:"-expand",onclick:function(){n(e,!0)}})}function m(e,n){return n&&f("span",{class:"-collapse",onclick:function(){n(e,!1)}})}function w(e,n){var t,a=e.state,s=e.actions;return v("div",{class:"object-details-pane scrollable"},((t={value:n,expanded:function(e,n){var t,r,o=(t=e,"boolean"==typeof(r=a.detailsPaneExpandedPaths[t])?r:t.split(".").length<4);return"boolean"==typeof n&&s.setDetailsPaneExpanded({expanded:!o,path:e}),o}}).path=t.path||"root",f("div",{class:"_object-view"},y(t,t.path,t.expanded))))}function I(e){var n,t=e.state,r=e.actions,o=i(e.state);switch(e.state.valueDisplay){case"args":return function(e){var n=e.event;if("function"===n.type)return w(e,n.args);throw new Error("Expected function event but got: "+n.type)}({state:t,actions:r,event:o});case"data":return function(e){var n=e.event;if("action"===n.type)return w(e,n.data);throw new Error("Expected action event but got: "+n.type)}({state:t,actions:r,event:o});case"result":return function(e){var n=e.event;if("action"===n.type)return w(e,n.result);if("function"===n.type)return w(e,n.result);throw new Error("Expected action or function event but got: "+n.type)}({state:t,actions:r,event:o});case"message":return function(e){var n=e.event;if("message"===n.type)return w(e,n.message);throw new Error("Expected message event but got: "+n.type)}({state:t,actions:r,event:o});case"state":return function(e){var n=e.event;if("action"===n.type)return w(e,n.stateAfter);if("init"===n.type)return w(e,n.state);throw new Error("Expected action or init event but got: "+n.type)}({state:t,actions:r,event:o});case"debugger-state":return w(n={state:t,actions:r,event:o},n.state)}}r('@charset "UTF-8";\n._object-view {\n  display: flex;\n  flex-grow: 1;\n  overflow: auto;\n  color: #c0c5ce;\n  white-space: nowrap;\n  background: #2b303b;\n  font-family: "Roboto Mono", monospace;\n  font-size: 0.8rem;\n  line-height: 1rem; }\n  ._object-view .-row {\n    padding: 0 0 0 2ch; }\n    ._object-view .-row:not(:last-of-type)::after {\n      content: ","; }\n  ._object-view .-key {\n    color: #bf616a; }\n    ._object-view .-key::after {\n      color: #c0c5ce;\n      content: ": "; }\n  ._object-view .-null::before {\n    color: #d08770;\n    content: "null"; }\n  ._object-view .-array::after {\n    content: "]"; }\n  ._object-view .-array::before {\n    content: "["; }\n  ._object-view .-boolean {\n    color: #96b5b4; }\n  ._object-view .-function::before {\n    content: "Æ’"; }\n  ._object-view .-number {\n    color: #ebcb8b; }\n  ._object-view .-object::after {\n    content: "}"; }\n  ._object-view .-object::before {\n    content: "{"; }\n  ._object-view .-string {\n    color: #a3be8c; }\n    ._object-view .-string::after {\n      content: "\'"; }\n    ._object-view .-string::before {\n      content: "\'"; }\n  ._object-view .-undefined::before {\n    color: #d08770;\n    content: "undefined"; }\n  ._object-view .-expand::before {\n    content: "+"; }\n  ._object-view .-collapse::before {\n    content: "-"; }\n');r(".runs-pane {\n  flex: 0 0 40%;\n  border: 1px solid #000000;\n  margin: 0.1rem;\n  align-items: stretch; }\n  .runs-pane .runs-pane-runs {\n    margin: 0.2rem 0rem 0.4rem 0.2rem;\n    padding: 0; }\n");r(".run-pane-item {\n  list-style-type: none;\n  width: 100%; }\n  .run-pane-item h2 {\n    font-size: 1.2rem;\n    margin: 0.2rem 0 0.2rem 0; }\n");r(".run-event-count {\n  color: #ff6600; }\n\n.run-event {\n  margin: 0rem;\n  width: 100%; }\n  .run-event .item-link {\n    display: block;\n    color: #000000; }\n    .run-event .item-link:hover {\n      background-color: #d3e5fd;\n      text-decoration: none;\n      color: #000000; }\n    .run-event .item-link:focus {\n      text-decoration: none; }\n    .run-event .item-link.selected {\n      background-color: #9fbbdf;\n      font-weight: bold;\n      color: #000000; }\n  .run-event .icon:hover {\n    color: #3834ff; }\n");var x=20;function E(e){for(var n,t="",r=0;r<e.length;r++){var o=e[r];t+=((n=o)&&"object"==typeof n&&n.constructor&&"Object"!==n.constructor.name?n.constructor.name:JSON.stringify(n))+(r<e.length-1?", ":"");if(t.length===x)return t;if(t.length>x)return t.substring(0,x-3)+"..."}return t}function k(e){var n=e.state,t=e.actions,r=e.run,o=e.events,a=e.indexInList,s=e.event,i="item-link"+(function(e,n){var t=e.selectedEvent;if(!t||!n)return!1;var r=e.runsById[t.runId];return r&&r.eventsById[t.eventId]===n}(n,s)?" selected":""),c=function(e){switch(e.type){case"init":return"Initial State";case"action":return e.name+"("+E(void 0===e.data?[]:[e.data])+")";case"function":return"f "+e.name+"("+E(e.args)+")";case"message":return"["+e.level+"] "+(n=e.message,void 0===t&&(t=30),n.length<=t?n:n.substr(0,t-2)+"...")}var n,t}(s);return v("a",{href:"",class:i,onclick:function(e){e.preventDefault(),t.select({runId:r.id,eventId:s.id})}},function(e){var n=e.actions,t=e.run,r=e.event;if(!r.children||0===r.children.length)return v(d,{name:"empty"});var o=function(e){e.stopPropagation(),e.preventDefault(),n.toggleEvent({runId:t.id,eventId:r.id})};return r.collapsed?v(d,{name:"caret-right",onclick:o}):v(d,{name:"caret-bottom",onclick:o})}(e),c,n.collapseRepeatingEvents&&v("span",{class:"run-event-count"},function(e,n,t){for(var r=e.eventsById[n[t]],o=1,a=t-1;0<=a;){var s=e.eventsById[n[a]];if(s.name!==r.name||s.type!==r.type)return 1===o?"":" (x"+o+")";o++,a--}return 1===o?"":" (x"+o+")"}(r,o,a)))}function B(e){var l=e.state,d=e.actions,p=e.run,n=e.events;return 0===n.length?null:v("ul",{class:"run-event-list"},n.map(function(e,n){return t={state:l,actions:d,events:p.events,event:p.eventsById[e],indexInList:n,run:p},r=t.state,o=t.actions,a=t.run,s=t.events,i=t.indexInList,c=t.event,(u=a.eventsById[s[i+1]])&&u.name===c.name&&u.type===c.type&&r.collapseRepeatingEvents?null:v("li",{class:"run-event",key:i},k(t),c.children&&!c.collapsed&&B({state:r,actions:o,run:a,events:c.children}));var t,r,o,a,s,i,c,u}).reverse())}function j(e){var c=e.state,u=e.actions,n=e.runs,l=[],d=n.length-1;return n.forEach(function(e,n){var t,r,o,a,s,i;l.unshift((r=(t={state:c,actions:u,run:e,current:n===d}).state,o=t.actions,a=t.run,s=new Date(a.timestamp).toLocaleTimeString(),i=a.collapsed,v("li",{class:"run-pane-item",key:a.timestamp},v("h2",null,"Run - ",s),!i&&B({run:a,state:r,actions:o,events:a.events}))))}),v("div",{class:"runs-pane scrollable"},v("ul",{class:"runs-pane-runs scrollable-content"},l))}r(".run-event-list {\n  list-style-type: none;\n  margin: 0 0 0 0.6rem;\n  padding: 0; }\n");function D(e){var n,t,r,o,a,s,i,c=e.state,u=e.actions;return v("div",{class:"hyperapp-devtools debug-pane"},p({state:c,actions:u}),(s=(a={state:c,actions:u}).state,i=a.actions,v("div",{class:"debugger-options"},v("div",{class:"option"},v("input",{id:"debugger-group-actions-cb",type:"checkbox",checked:s.collapseRepeatingEvents,onchange:i.toggleCollapseRepeatingEvents}),v("label",{for:"debugger-group-actions-cb"},"Group repeating actions")),v("div",{class:"option"},v("select",{onchange:function(e){return i.setValueDisplay(e.target.value)},value:s.valueDisplay},v("option",{value:"state"},"Show Full State"),v("option",{value:"result"},"Show Action Result"),v("option",{value:"data"},"Show Action Data"),v("option",{value:"debugger-state"},"Show Debugger Own State"))))),(t=(n={state:c,actions:u}).state,r=n.actions,0===(o=t.runs.map(function(e){return t.runsById[e]})).length?v("div",{class:"debug-pane-content"},v("p",null,"No debug information found, please debug this project.")):v("div",{class:"debug-pane-content"},j({state:t,actions:r,runs:o}),I({state:t,actions:r}))))}r(".debug-pane {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  background: #ffffff;\n  border: 1px solid #000000;\n  color: #000000; }\n  .debug-pane a {\n    text-decoration: none; }\n");function S(e){var n=e.state,t=e.actions;return v("div",{class:"hyperapp-devtools toggle-pane-button"},v("button",{onclick:function(){return t.showPane(!n.paneShown)}},"Devtools"))}function _(e,n){return e.paneShown?v("div",{class:function(e){switch(e){case"fullscreen":return"devtools-overlay";case"right":return"devtools-overlay align-right";case"bottom":return"devtools-overlay align-bottom"}}(e.paneDisplay)},D({state:e,actions:n}),S({state:e,actions:n})):S({state:e,actions:n})}r(".toggle-pane-button {\n  position: fixed;\n  right: 2%;\n  bottom: 2%; }\n");var A={runs:[],runsById:{},paneDisplay:"right",valueDisplay:"state",paneShown:!1,selectedEvent:null,collapseRepeatingEvents:!0,detailsPaneExpandedPaths:{}},P=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e};function R(e,n){for(var t=e,r=0;r<n.length;r++)t=t?t[n[r]]:t;return t}function C(e,n,t){return 0===n.length?t:T(Array.isArray(e)?[]:{},e,((r={})[n[0]]=1<n.length?C(e[n[0]]||{},n.slice(1),t):t,r));var r}function T(e,n,t){for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}var O={action:{state:!0,result:!0,data:!0,"debugger-state":!0},function:{args:!0,result:!0,"debugger-state":!0},init:{state:!0,"debugger-state":!0},message:{message:!0,"debugger-state":!0}},z={action:"state",function:"result",init:"state",message:"message"};var M,N="$__SET_STATE",L=Object.freeze({deleteRun:function(t){return function(e){var n=P({},e.runsById);return delete n[t],{runs:e.runs.filter(function(e){return e!==t}),runsById:n}}},logCallEnd:function(p){return function(e){var n=p.runId,t=p.eventId,r=p.result,o=p.error,a=P({},e.runsById),s=P({},a[n]);(a[n]=s).eventsById=P({},s.eventsById);var i,c,u,l=P({},s.eventsById[t]);if("action"===(s.eventsById[t]=l).type||"function"===l.type){if(r&&(l.result=r,"action"===l.type&&!r.then)){var d=l.name.split(".");d.pop(),l.stateAfter=(i=l.stateBefore,c=d,u=l.result,C(i,c,T(Array.isArray(u)?[]:{},R(i,c),u)))}o&&(l.error=o)}return s.currentEvent=t===s.currentEvent?l.parent:s.currentEvent,{runsById:a}}},logCallStart:function(p){return function(e){var n,t,r,o,a,s=p.runId,i=p.eventId,c=P({},e.runsById),u=P({},c[s]);(c[s]=u).eventsById[i]=(n=u,r=(t=p).args,o=t.eventId,a=t.name,t.runId,"action"===t.type?{type:"action",id:o,name:a,data:r&&0<r.length?r[0]:void 0,parent:n.currentEvent,children:[],collapsed:!1,stateBefore:n.currentState}:{type:"function",id:o,name:a,args:r,children:[],collapsed:!1,parent:n.currentEvent});var l=u.currentEvent;if(l){var d=P({},u.eventsById[l]);(u.eventsById[l]=d).children=d.children.concat(i)}else u.events=u.events.concat(i);return u.currentEvent=i,{runsById:c}}},logInit:function(c){return function(e){var n,t=c.runId,r=c.interop,o=c.timestamp,a=e.runs.concat(t),s=P({},e.runsById),i={id:t,type:"init",name:"Initial State",state:c.state};return s[t]={id:t,events:[t],eventsById:(n={},n[t]=i,n),currentState:c.state,timestamp:o,interop:r,collapsed:!1},{runs:a,runsById:s,selectedEvent:{runId:t,eventId:t}}}},logMessage:function(c){return function(e){var n,t=c.runId,r=c.eventId,o=c.level,a=c.message,s=P({},e.runsById),i=P({},s[t]);return(s[t]=i).events=i.events.concat(r),i.eventsById=P({},i.eventsById,((n={})[r]={type:"message",level:o,message:a,name:o,id:r,parent:i.currentEvent},n)),{runsById:s,selectedEvent:{runId:t,eventId:r}}}},select:function(o){return function(e){var n,t,r=i(e,o);return{selectedEvent:o,valueDisplay:(n=e.valueDisplay,t=r,O[t.type][n]?n:z[t.type])}}},setDetailsPaneExpanded:function(o){return function(e){var n,t=o.path,r=o.expanded;return{detailsPaneExpandedPaths:P({},e.detailsPaneExpandedPaths,(n={},n[t]=r,n))}}},setPaneDisplay:function(n){return function(e){return{paneDisplay:n}}},setValueDisplay:function(n){return function(e){return{valueDisplay:n}}},showPane:function(n){return function(e){return{paneShown:n}}},timeTravel:function(a){return function(e){var n,t,r=(n=e,t=a.runId,n.runsById[t]||null);if(r){var o=i(e,a);if(o){if("action"===o.type&&o.stateAfter)return void r.interop[N](o.stateAfter);"init"===o.type&&r.interop[N](o.state)}}}},toggleCollapseRepeatingEvents:function(){return function(e){return{collapseRepeatingEvents:!e.collapseRepeatingEvents}}},toggleEvent:function(o){return function(e){var n=o.runId,t=o.eventId,r=R(e.runsById,[n,"eventsById",t,"collapsed"]);return{runsById:C(e.runsById,[n,"eventsById",t,"collapsed"],!r)}}},toggleRun:function(t){return function(e){var n=P({},e.runsById);return n[t]=P({},n[t],{collapsed:!n[t].collapsed}),{runsById:n}}}});e.devtools=function(s){var e=document.createElement("div");return document.body.appendChild(e),M=s(A,L,_,e),function(e,n,t,r){var o=l();n[N]=function(e){return e},n=function t(i,c,r,e){var o={},u=e?e+".":"";return Object.keys(r||{}).forEach(function(e){var a=r[e];if(a){var n=a.name||e,s=u+n;o[e]="function"==typeof a?function(o){return function(e,n){var t=l();i.logCallStart({type:"action",name:s,args:[o],eventId:t,runId:c});try{var r=a(o);return r="function"==typeof r?r(e,n):r,i.logCallEnd({runId:c,eventId:t,result:r}),r}catch(e){throw i.logCallEnd({runId:c,eventId:t,error:e}),e}}}:t(i,c,a,s)}else o[e]=null}),o}(M,o,n);var a=s(e,n,t,r);return M.logInit({runId:o,state:e,timestamp:(new Date).getTime(),interop:a}),a}},e.debug=function(e){return"function"==typeof e?function(){return e(arguments)}:e},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-devtools.min.js.map
